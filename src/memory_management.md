# Rust的内存管理

**内存管理**是编程语言非常重要的一部分，因为在程序运行过程中动态地分配和回收内存是一个基本的需求。

> 程序在运行时，如果需要在堆上分配（`allocate`）一块内存，需要向操作系统申请，并在使用完该内存后将这块内存释放（`free`），归还给操作系统。
>
> 历史上，正确处理内存的回收曾是一个困难的编程问题。如果忘记回收内存，会造成内存的浪费，随着程序一直执行，可用的内存会被**耗尽**（memory exhaustion）。如果内存被过早地回收，会出现**悬挂指针**（dangling pointer），后续再使用该内存会引发**释放后重用**（Use After Free，UAF）。如果重复回收内存，也可能引发操作系统的错误，例如**二次释放**（double free）。
>
> 所以，我们需要精确地为每一个`allocate`配对一个`free`。

Rust使用所有权系统管理内存，这是Rust最为与众不同的特性，它让Rust无需垃圾回收器即可保障内存安全。

本章我们将学习：

- Rust 中的所有权概念。
- 移动和借用值。
- Rust 的指针类型，通常称为“引用”。
- 作用域界定规则和生存期。

